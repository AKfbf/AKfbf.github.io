[{"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\BooksList\\BooksList.jsx":"1","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\BookItem\\BookItem.jsx":"2","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\Search\\Search.jsx":"3","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\services\\BooksApi.js":"4","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\App.js":"5","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\reportWebVitals.js":"6","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\FancyHeader\\FancyHeader.jsx":"7","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\Search\\QueryGenerator.js":"8","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\index.js":"9","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\FormField\\FormField.jsx":"10","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\reportWebVitals.js":"11","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\FancyHeader\\FancyHeader.jsx":"12","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\services\\BooksApi.js":"13","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\BookItem\\BookItem.jsx":"14","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\Search\\Search.jsx":"15","D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\Search\\QueryGenerator.js":"16"},{"size":618,"mtime":1607815133813,"results":"17","hashOfConfig":"18"},{"size":1390,"mtime":1607816528087,"results":"19","hashOfConfig":"18"},{"size":3272,"mtime":1607816575599,"results":"20","hashOfConfig":"18"},{"size":262,"mtime":1607792451501,"results":"21","hashOfConfig":"18"},{"size":1223,"mtime":1607816565906,"results":"22","hashOfConfig":"18"},{"size":362,"mtime":1607716563826,"results":"23","hashOfConfig":"18"},{"size":379,"mtime":1607787643853,"results":"24","hashOfConfig":"18"},{"size":702,"mtime":1607811638663,"results":"25","hashOfConfig":"18"},{"size":500,"mtime":1607716563826,"results":"26","hashOfConfig":"18"},{"size":1521,"mtime":1607816223226,"results":"27","hashOfConfig":"18"},{"size":362,"mtime":1607716563826,"results":"28","hashOfConfig":"29"},{"size":379,"mtime":1607787643853,"results":"30","hashOfConfig":"29"},{"size":262,"mtime":1607792451501,"results":"31","hashOfConfig":"29"},{"size":1390,"mtime":1607816528087,"results":"32","hashOfConfig":"29"},{"size":3272,"mtime":1607816575599,"results":"33","hashOfConfig":"29"},{"size":702,"mtime":1607811638663,"results":"34","hashOfConfig":"29"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"3nordt",{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"37"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1e3flc",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\BooksList\\BooksList.jsx",[],["73","74"],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\BookItem\\BookItem.jsx",["75"],"import React, { useEffect, useRef } from \"react\";\r\nimport styles from \"./BookItem.module.scss\";\r\nimport questionMark from \"../../assets/images/questionMark.jpg\";\r\n\r\nconst BookItem = props => {\r\n  const bookItemRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (bookItemRef.current) {\r\n      let height = bookItemRef.current.offsetHeight;\r\n      props.setItemHeight(height);\r\n    }\r\n  }, [bookItemRef]);\r\n\r\n  return (\r\n    <div key={props.key}>\r\n      {props.itemData && (\r\n        <div className={styles.container} ref={bookItemRef}>\r\n          <img\r\n            className={styles.bookCover}\r\n            src={\r\n              (props.itemData.imageLinks &&\r\n                props.itemData.imageLinks.smallThumbnail) ||\r\n              questionMark\r\n            }\r\n            alt={props.itemData.title}\r\n          />\r\n          <div className={styles.textContainer}>\r\n            <h4>{shortenText(props.itemData.title, 150)}</h4>\r\n            <p>{shortenText(props.itemData.description, 150)}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst shortenText = (text, length) => {\r\n  let splittedText = text && text.split(/[.|!|?]\\s/)[0];\r\n\r\n  if (splittedText && splittedText.length > length) {\r\n    splittedText = splittedText.substr(0, length - 1) + \" ...\";\r\n  }\r\n\r\n  return (splittedText && splittedText) || \"Description not found\";\r\n};\r\n\r\nexport default BookItem;\r\n","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\Search\\Search.jsx",["76"],"import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./Search.module.scss\";\r\nimport BooksApi from \"../../services/BooksApi\";\r\nimport generateQuery from \"./QueryGenerator\";\r\nimport FormField from \"../FormField/FormField\";\r\n\r\nconst Search = props => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"\");\r\n  const [publisher, setPublisher] = useState(\"\");\r\n  const [advancedSearch, setAdvancedSearch] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAdditionalData(\r\n      { title, author, language, publisher },\r\n      6,\r\n      6 * props.apiCallCounter - 1,\r\n      props\r\n    );\r\n  }, [props.apiCallCounter]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.innerContainer}>\r\n        <form\r\n          onSubmit={e => e.preventDefault()}\r\n          onKeyPress={e => {\r\n            if (e.charCode === 13) return e.preventDefault();\r\n          }}\r\n        >\r\n          <FormField label={\"Title\"} setter={setTitle} type={\"text\"} />\r\n          {!advancedSearch && (\r\n            <FormField\r\n              label={\"Advanced Search\"}\r\n              setter={setAdvancedSearch}\r\n              type={\"checkbox\"}\r\n              value={advancedSearch}\r\n            />\r\n          )}\r\n          {advancedSearch &&\r\n            renderAdvancedSearch({\r\n              setAuthor,\r\n              setLanguage,\r\n              setPublisher,\r\n              language\r\n            })}\r\n          <button\r\n            onClick={e =>\r\n              searchHandler({ title, author, language, publisher }, props, e)\r\n            }\r\n          >\r\n            Search&#x1F50D;\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst renderAdvancedSearch = state => {\r\n  return [\r\n    <FormField\r\n      key={\"Author\"}\r\n      label={\"Author\"}\r\n      setter={state.setAuthor}\r\n      type={\"text\"}\r\n    />,\r\n    <FormField\r\n      key={\"Language\"}\r\n      label={\"Language\"}\r\n      setter={state.setLanguage}\r\n      value={state.language}\r\n      options={[\"\", \"PL\", \"ENG\"]}\r\n      type={\"select\"}\r\n    />,\r\n    <FormField\r\n      key={\"Publisher\"}\r\n      label={\"Publisher\"}\r\n      setter={state.setPublisher}\r\n      type={\"text\"}\r\n    />\r\n  ];\r\n};\r\n\r\nconst searchHandler = (searchOptions, props, event) => {\r\n  event.preventDefault();\r\n  fetchInitialData(searchOptions, 6, 0, props);\r\n};\r\n\r\nconst fetchInitialData = async (\r\n  searchOptions,\r\n  queryAmount,\r\n  queryIndex,\r\n  props\r\n) => {\r\n  const query = generateQuery(searchOptions, queryAmount, queryIndex);\r\n  const response = await BooksApi.get(query);\r\n  props.updateBooksData(response.data.items);\r\n  props.setApiCallCounter(0);\r\n};\r\n\r\nconst fetchAdditionalData = async (\r\n  searchOptions,\r\n  queryAmount,\r\n  queryIndex,\r\n  props\r\n) => {\r\n  let query = generateQuery(\r\n    {\r\n      title: searchOptions.title,\r\n      author: searchOptions.author,\r\n      language: searchOptions.language,\r\n      publisher: searchOptions.publisher\r\n    },\r\n    queryAmount,\r\n    queryIndex\r\n  );\r\n  const response = await BooksApi.get(query);\r\n  response.data.items &&\r\n    response.data.items.forEach(item => {\r\n      props.updateBooksData(arr => [...arr, item]);\r\n    });\r\n};\r\n\r\nexport default Search;\r\n","D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\services\\BooksApi.js",[],["77","78"],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\App.js",[],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\reportWebVitals.js",[],["79","80"],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\FancyHeader\\FancyHeader.jsx",[],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\Search\\QueryGenerator.js",[],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\index.js",[],"D:\\IT\\interview\\tasks\\stx next\\fancyBookFinder\\client\\src\\components\\FormField\\FormField.jsx",[],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\reportWebVitals.js",[],["81","82"],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\FancyHeader\\FancyHeader.jsx",[],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\services\\BooksApi.js",[],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\BookItem\\BookItem.jsx",["83"],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\Search\\Search.jsx",["84"],"D:\\IT\\interview\\tasks\\stx next\\fbfGithubPages\\src\\components\\Search\\QueryGenerator.js",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":13,"column":6,"nodeType":"91","endLine":13,"endColumn":19,"suggestions":"92"},{"ruleId":"89","severity":1,"message":"93","line":21,"column":6,"nodeType":"91","endLine":21,"endColumn":28,"suggestions":"94"},{"ruleId":"85","replacedBy":"95"},{"ruleId":"87","replacedBy":"96"},{"ruleId":"85","replacedBy":"97"},{"ruleId":"87","replacedBy":"98"},{"ruleId":"85","replacedBy":"99"},{"ruleId":"87","replacedBy":"100"},{"ruleId":"89","severity":1,"message":"90","line":13,"column":6,"nodeType":"91","endLine":13,"endColumn":19,"suggestions":"101"},{"ruleId":"89","severity":1,"message":"93","line":21,"column":6,"nodeType":"91","endLine":21,"endColumn":28,"suggestions":"102"},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["105"],"React Hook useEffect has missing dependencies: 'author', 'language', 'props', 'publisher', and 'title'. Either include them or remove the dependency array.",["106"],["103"],["104"],["103"],["104"],["103"],["104"],["107"],["108"],"no-global-assign","no-unsafe-negation",{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},{"desc":"109","fix":"113"},{"desc":"111","fix":"114"},"Update the dependencies array to be: [bookItemRef, props]",{"range":"115","text":"116"},"Update the dependencies array to be: [author, language, props, props.apiCallCounter, publisher, title]",{"range":"117","text":"118"},{"range":"119","text":"116"},{"range":"120","text":"118"},[384,397],"[bookItemRef, props]",[692,714],"[author, language, props, props.apiCallCounter, publisher, title]",[384,397],[692,714]]